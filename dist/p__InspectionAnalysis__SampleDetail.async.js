(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[117],{Sk8m:function(e,t,a){"use strict";a.r(t);a("IzEo");var n,o,s,i,r=a("bx4M"),l=(a("g9YV"),a("wCAj")),c=(a("14J3"),a("BMrR")),p=(a("+L6B"),a("2/Rp")),d=(a("Pwec"),a("CtXQ")),m=(a("jCWc"),a("kPKH")),g=a("p0pE"),y=a.n(g),u=(a("/xke"),a("TeRw")),f=a("2Taf"),S=a.n(f),h=a("vZ4D"),I=a.n(h),w=a("MhPg"),v=a.n(w),A=a("l4Ni"),R=a.n(A),D=a("ujKo"),k=a.n(D),C=(a("OaEy"),a("2fM7")),b=(a("y8nQ"),a("Vl3Y")),E=a("q1tI"),K=a.n(E),M=a("MuoO"),O=a("3a4m"),x=a.n(O),z=a("zHco"),N=a("RdVf"),P=a.n(N);function V(e){return function(){var t,a=k()(e);if(j()){var n=k()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return R()(this,t)}}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}b["a"].Item,C["a"].Option;var F=(n=Object(M["connect"])(function(e){var t=e.inspectionAnalysis,a=e.loading;return{inspectionAnalysis:t,loading:a.models.inspectionAnalysis}}),o=b["a"].create(),n(s=o((i=function(e){v()(a,e);var t=V(a);function a(){var e;S()(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),e.state={formValues:{},addOne:!1,addMany:!1,onDelete:!1,selectedRowKeys:[],deleteRowKeys:[],data:[],standard:[],itemName:[]},e.columns=[{title:"\u6307\u6807\u540d\u79f0",dataIndex:"itemC"},{title:"\u82f1\u6587\u540d\u79f0",dataIndex:"itemE"},{title:"\u68c0\u6d4b\u6807\u51c6",dataIndex:"teststandard"},{title:"\u5355\u4f4d",dataIndex:"unit"}],e.back=function(){x.a.push({pathname:"/InspectionAnalysis/SampleIndex"})},e.handleCancel=function(){e.setState({addOne:!1}),e.setState({addMany:!1}),e.setState({onDelete:!1})},e.showAddOne=function(){var t=e.props,a=t.dispatch,n=t.form;n.resetFields();var o=sessionStorage.getItem("reportno"),s=sessionStorage.getItem("sampleno"),i=sessionStorage.getItem("cargoname");a({type:"inspectionAnalysis/getItemNames",payload:{reportno:o,sampleno:s,cargonameC:i},callback:function(t){e.setState({itemName:t.data})}}),e.setState({addOne:!0})},e.showAddMany=function(){var t=e.props,a=t.dispatch,n=(t.form,sessionStorage.getItem("reportno")),o=sessionStorage.getItem("sampleno"),s=sessionStorage.getItem("cargoname");e.setState({addMany:!0}),a({type:"inspectionAnalysis/getItems",payload:{reportno:n,sampleno:o,cargonameC:s}}),e.setState({selectedRowKeys:[]})},e.showDelete=function(){e.setState({onDelete:!0}),e.setState({deleteRowKeys:[]})},e.onSelectChange=function(t){e.setState({selectedRowKeys:t})},e.onDeleteChange=function(t){e.setState({deleteRowKeys:t})},e.delete=function(){var t=e.state.deleteRowKeys,a=e.props.dispatch,n=sessionStorage.getItem("reportno"),o=sessionStorage.getItem("sampleno");a({type:"inspectionAnalysis/deleteDetails",payload:{deleteRowKeys:t},callback:function(e){200===e.code?(u["a"].open({message:"\u5220\u9664\u6210\u529f"}),a({type:"inspectionAnalysis/getDetails",payload:{reportno:n,sampleno:o}})):u["a"].open({message:"\u5220\u9664\u5931\u8d25",description:e.data})}}),e.setState({onDelete:!1})},e.onAddOne=function(){var t=e.props,a=t.dispatch,n=t.form,o=sessionStorage.getItem("reportno"),s=sessionStorage.getItem("sampleno"),i=sessionStorage.getItem("cargoname");n.validateFields(function(e,t){if(console.log(e),!e){var n=y()({},t,{reportno:o,sampleno:s,cargonameC:i});a({type:"inspectionAnalysis/addDetail",payload:y()({},n),callback:function(e){200===e.code?(u["a"].open({message:"\u6dfb\u52a0\u6210\u529f"}),a({type:"inspectionAnalysis/getDetails",payload:{reportno:o,sampleno:s}})):u["a"].open({message:"\u6dfb\u52a0\u5931\u8d25",description:e.data})}})}}),e.setState({addOne:!1})},e.handleChange=function(t){var a=e.props,n=a.dispatch,o=a.form,s=sessionStorage.getItem("cargoname");n({type:"inspectionAnalysis/getStandards",payload:{itemC:t,cargonameC:s},callback:function(t){e.setState({standard:t.data})}}),o.setFieldsValue({standard:null})},e.addMany=function(){var t=sessionStorage.getItem("reportno"),a=sessionStorage.getItem("sampleno"),n=sessionStorage.getItem("cargoname"),o=e.state.selectedRowKeys,s=e.props,i=s.dispatch;s.inspectionAnalysis.items;i({type:"inspectionAnalysis/addDetails",payload:{reportno:t,sampleno:a,cargonameC:n,selectedRowKeys:o},callback:function(e){200===e.code?(u["a"].open({message:"\u6dfb\u52a0\u6210\u529f"}),i({type:"inspectionAnalysis/getDetails",payload:{reportno:t,sampleno:a}})):u["a"].open({message:"\u6dfb\u52a0\u5931\u8d25",description:e.data})}}),e.setState({addMany:!1}),e.props.history.goBack()},e}return I()(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,t=sessionStorage.getItem("reportno"),a=sessionStorage.getItem("sampleno");e({type:"inspectionAnalysis/getAllDetails",payload:{reportno:t,sampleno:a}})}},{key:"render",value:function(){var e=this.props,t=e.inspectionAnalysis,a=t.detail,n=(t.items,e.loading),o=(e.form.getFieldDecorator,sessionStorage.getItem("reportno")),s=sessionStorage.getItem("cargoname"),i=sessionStorage.getItem("sampleno"),g={reportno:o,cargoname:s,sampleno:i};return K.a.createElement(z["a"],{text:g},K.a.createElement(r["a"],{bordered:!1,size:"small"},K.a.createElement(c["a"],null,K.a.createElement(m["a"],{sm:22}),K.a.createElement(m["a"],{span:2},K.a.createElement(p["a"],{type:"primary",style:{marginLeft:8,paddingLeft:0,paddingRight:15},onClick:this.back},K.a.createElement(d["a"],{type:"left"}),"\u8fd4\u56de"))),K.a.createElement("div",{className:P.a.tableList},K.a.createElement(l["a"],{size:"middle",loading:n,dataSource:a,pagination:{showQuickJumper:!0,showSizeChanger:!0},columns:this.columns,rowKey:"reportno"}))))}}]),a}(E["PureComponent"]),s=i))||s)||s);t["default"]=F}}]);