(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[124],{AzMU:function(e,a,t){"use strict";t.r(a);t("IzEo");var l,n,r,o,i=t("bx4M"),c=(t("g9YV"),t("wCAj")),m=t("jehZ"),s=t.n(m),u=(t("14J3"),t("BMrR")),d=(t("Pwec"),t("CtXQ")),p=(t("5NDa"),t("5rEg")),E=(t("jCWc"),t("kPKH")),v=(t("BoS7"),t("Sdc0")),h=t("2Taf"),f=t.n(h),g=t("vZ4D"),k=t.n(g),w=t("l4Ni"),y=t.n(w),b=t("ujKo"),C=t.n(b),I=t("MhPg"),R=t.n(I),V=(t("OaEy"),t("2fM7")),F=(t("y8nQ"),t("Vl3Y")),S=(t("2qtc"),t("kLXV")),M=(t("bP8k"),t("gFTJ")),x=(t("+L6B"),t("2/Rp")),D=t("q1tI"),N=t.n(D),L=t("MuoO"),Y=t("wd/R"),z=t.n(Y),P=t("zHco"),T=t("cBtN"),B=t.n(T),J=t("glGN"),O=t.n(J);function j(e){return function(){var a,t=C()(e);if(A()){var l=C()(this).constructor;a=Reflect.construct(t,arguments,l)}else a=t.apply(this,arguments);return y()(this,a)}}function A(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var K=function(e){var a=e.modalReviewVisible,t=e.handleModalReviewVisible,l=e.modalInfo,n=function(e){return void 0!==e&&null!==e?N.a.createElement("span",null,z()(e).format("YYYY-MM-DD")):null},r=n(l.makingdate);return N.a.createElement(S["a"],{destroyOnClose:!0,title:"\u67e5\u770b\u6837\u54c1\u8be6\u60c5",visible:a,style:{top:100},width:800,onCancel:function(){return t()},footer:[N.a.createElement(x["a"],{type:"primary",onClick:function(){return t()}},"\u5173\u95ed")]},N.a.createElement(M["a"],{bordered:!0},N.a.createElement(M["a"].Item,{label:"\u59d4\u6258\u7f16\u53f7"},l.reportno),N.a.createElement(M["a"].Item,{label:"\u8239\u540d\u6807\u8bc6"},l.shipname),N.a.createElement(M["a"].Item,{label:"\u68c0\u67e5\u54c1\u540d"},l.cargoname),N.a.createElement(M["a"].Item,{label:"\u6837\u54c1\u7f16\u53f7"},l.cargoname),N.a.createElement(M["a"].Item,{label:"\u6837\u54c1\u540d\u79f0"},l.samplename),N.a.createElement(M["a"].Item,{label:"\u6837\u54c1\u7528\u9014"},l.sampleuse),N.a.createElement(M["a"].Item,{label:"\u6301\u6709\u4eba"},l.duration),N.a.createElement(M["a"].Item,{label:"\u4fdd\u5b58\u5929\u6570"},l.reportno),N.a.createElement(M["a"].Item,{label:"\u5b58\u653e\u4f4d\u7f6e"},l.position),N.a.createElement(M["a"].Item,{label:"\u5236\u5907\u65e5\u671f"},r),N.a.createElement(M["a"].Item,{label:"\u72b6\u6001"},l.status)))},Q=0,q=F["a"].Item,H=V["a"].Option,X=(l=Object(L["connect"])(function(e){var a=e.sample,t=e.loading;return{sample:a,loading:t.models.sample}}),n=F["a"].create(),l(r=n((o=function(e){R()(t,e);var a=j(t);function t(){var e;f()(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return e=a.call.apply(a,[this].concat(n)),e.state={formValues:{},modalReviewVisible:!1,modalInfo:{}},e.columns=[{title:"\u59d4\u6258\u7f16\u53f7",dataIndex:"reportno"},{title:"\u8239\u540d\u6807\u8bc6",dataIndex:"shipname"},{title:"\u68c0\u67e5\u54c1\u540d",dataIndex:"cargoname"},{title:"\u6837\u54c1\u7f16\u53f7",dataIndex:"sampleno"},{title:"\u6837\u54c1\u540d\u79f0",dataIndex:"samplename"},{title:"\u6837\u54c1\u7528\u9014",dataIndex:"sampleuse"},{title:"\u6301\u6709\u4eba",dataIndex:"owner"},{title:"\u4fdd\u5b58\u5929\u6570",dataIndex:"duration"},{title:"\u5b58\u653e\u4f4d\u7f6e",dataIndex:"position"},{title:"\u5236\u5907\u65e5\u671f",dataIndex:"makingdate",render:function(e){return N.a.createElement("span",null,z()(e).format("YYYY-MM-DD"))}},{title:"\u72b6\u6001",dataIndex:"status"},{title:"\u64cd\u4f5c",render:function(a,t){return N.a.createElement(D["Fragment"],null,N.a.createElement("a",{onClick:function(){return e.handleReview(!0,a)}},"\u67e5\u770b"))}}],e.init=function(){var a=JSON.parse(localStorage.getItem("userinfo")),t=e.props.dispatch,l={certCode:a.certCode};t({type:"sample/getSampleRegisterByConditions",payload:l})},e.previewItem=function(e){window.open("/Entrustment/DetailForEntrustment"),localStorage.setItem("reportDetailNo",e.reportno)},e.handleFormReset=function(){var a=e.props.form;a.resetFields(),e.init(),e.flag=0},e.handleSearch=function(a){a.preventDefault();var t=e.props,l=t.dispatch,n=t.form;n.validateFields(function(e,a){if(!e){var t=JSON.parse(localStorage.getItem("userinfo")),r=[],o=[],i=[];!0===a.check&&void 0!==a.kind&&void 0!==a.value&&void 0!==a.condition&&(r.push(a.kind),o.push(a.value),i.push(a.condition));var c=n.getFieldValue("keys");for(var m in c){var s=c[m],u=n.getFieldValue("kinds".concat(s)),d=n.getFieldValue("conditions".concat(s)),p=n.getFieldValue("values".concat(s)),E=n.getFieldValue("check".concat(s));!0===E&&void 0!==u&&void 0!==p&&void 0!==d&&(r.push(u),o.push(p),i.push(d))}var v={kinds:r,values:o,conditions:i,certCode:t.certCode};l({type:"sample/getSampleRegisterByConditions",payload:v})}})},e.handleReview=function(a,t){e.handleModalReviewVisible(a),e.state.modalInfo=t},e.handleModalReviewVisible=function(a){e.setState({modalReviewVisible:!!a})},e.remove=function(a){var t=e.props.form,l=t.getFieldValue("keys");e.props.form.validateFields(function(e,a){}),t.setFieldsValue({keys:l.filter(function(e){return e!==a})})},e.add=function(){var a=e.props.form,t=a.getFieldValue("keys"),l=t.concat(Q++);a.setFieldsValue({keys:l})},e.flag=0,e.handleAdvanceSearch=function(){if(0===e.flag){var a=4;while(a>0)e.add(),a--;e.flag=1}},e}return k()(t,[{key:"componentDidMount",value:function(){this.init()}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return N.a.createElement(F["a"],{onSubmit:this.handleSearch,layout:"inline"},N.a.createElement(u["a"],{gutter:{md:6,lg:18,xl:5}},N.a.createElement(E["a"],{md:1,sm:20},N.a.createElement(F["a"].Item,{labelCol:{span:5},wrapperCol:{span:6},colon:!1},e("check",{initialValue:!0,valuePropName:"checked"})(N.a.createElement(v["a"],{checkedChildren:"\u5f00",unCheckedChildren:"\u5173"})))),N.a.createElement(E["a"],{md:3,sm:20},N.a.createElement(F["a"].Item,{labelCol:{span:5},wrapperCol:{span:6},colon:!1},e("kind",{rules:[{message:"\u9009\u62e9\u5b57\u6bb5"}]})(N.a.createElement(V["a"],{placeholder:"\u9009\u62e9\u5b57\u6bb5"},N.a.createElement(H,{value:"reportno"}," \u59d4\u6258\u7f16\u53f7"),N.a.createElement(H,{value:"shipname"},"\u8239\u540d\u6807\u8bc6"),N.a.createElement(H,{value:"cargoname"},"\u68c0\u67e5\u54c1\u540d"),N.a.createElement(H,{value:"sampleno"},"\u6837\u54c1\u7f16\u53f7"),N.a.createElement(H,{value:"samplename"},"\u6837\u54c1\u540d\u79f0"),N.a.createElement(H,{value:"sampleuse"},"\u6837\u54c1\u7528\u9014"),N.a.createElement(H,{value:"owner"},"\u6301\u6709\u4eba"),N.a.createElement(H,{value:"duration"},"\u4fdd\u5b58\u5929\u6570"),N.a.createElement(H,{value:"position"},"\u5b58\u653e\u4f4d\u7f6e"),N.a.createElement(H,{value:"status"},"\u72b6\u6001"))))),N.a.createElement(E["a"],{md:3,sm:20},N.a.createElement(F["a"].Item,{labelCol:{span:5},wrapperCol:{span:6},colon:!1},e("condition",{rules:[{message:"\u6761\u4ef6"}]})(N.a.createElement(V["a"],{placeholder:"\u6761\u4ef6"},N.a.createElement(H,{value:"="},"\u7b49\u4e8e"),N.a.createElement(H,{value:"!="},"\u4e0d\u7b49\u4e8e"),N.a.createElement(H,{value:"like"},"\u5305\u542b"),N.a.createElement(H,{value:"not like"},"\u4e0d\u5305\u542b"))))),N.a.createElement(E["a"],{md:4,sm:20},N.a.createElement(q,null,e("value",{rules:[{message:"\u8bf7\u8f93\u5165"}]})(N.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),N.a.createElement(E["a"],{md:1,sm:20},"  ",N.a.createElement(d["a"],{type:"plus-circle",style:{fontSize:24,marginLeft:8,marginTop:4},theme:"twoTone",twoToneColor:"#00ff00",onClick:this.add})),N.a.createElement(E["a"],{md:8,sm:20},N.a.createElement("span",{className:O.a.submitButtons},N.a.createElement(x["a"],{style:{marginLeft:0},onClick:this.handleFormReset},"\u91cd\u7f6e"),N.a.createElement(x["a"],{style:{marginLeft:8},onClick:this.handleAdvanceSearch},"\u9ad8\u7ea7\u68c0\u7d22"),N.a.createElement(x["a"],{type:"primary",style:{marginLeft:8},htmlType:"submit"},"\u67e5\u8be2")))))}},{key:"render",value:function(){var e=this,a=this.props,t=a.sample.selectRegisterResult,l=a.loading,n=this.props.form,r=n.getFieldDecorator,o=n.getFieldValue;r("keys",{initialValue:[]});var m=o("keys"),h=this.state,f=h.modalReviewVisible,g=h.modalInfo,k={handleModalReviewVisible:this.handleModalReviewVisible},w=m.map(function(a,t){return N.a.createElement("div",null,t%2===0&&0!==m.length?N.a.createElement(u["a"],{className:B.a.rowClass}):null,N.a.createElement(E["a"],{md:1,sm:20},N.a.createElement(F["a"].Item,{labelCol:{span:5},wrapperCol:{span:6},colon:!1},r("check".concat(a),{initialValue:!0,valuePropName:"checked"})(N.a.createElement(v["a"],{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0})))),N.a.createElement(E["a"],{md:3,sm:20},N.a.createElement(F["a"].Item,{style:{marginRight:8},labelCol:{span:5},wrapperCol:{span:6}},r("kinds".concat(a),{initial:"shipname",rules:[{message:"\u9009\u62e9\u5b57\u6bb5"}]})(N.a.createElement(V["a"],{placeholder:"\u9009\u62e9\u5b57\u6bb5"},N.a.createElement(H,{value:"reportno"}," \u59d4\u6258\u7f16\u53f7"),N.a.createElement(H,{value:"shipname"},"\u8239\u540d\u6807\u8bc6"),N.a.createElement(H,{value:"cargoname"},"\u68c0\u67e5\u54c1\u540d"),N.a.createElement(H,{value:"applicant"},"\u59d4\u6258\u4eba"),N.a.createElement(H,{value:"agent"},"\u4ee3\u7406"),N.a.createElement(H,{value:"sampleno"},"\u6837\u54c1\u7f16\u53f7"),N.a.createElement(H,{value:"samplename"},"\u6837\u54c1\u540d\u79f0"),N.a.createElement(H,{value:"sampleuse"},"\u6837\u54c1\u7528\u9014"),N.a.createElement(H,{value:"owner"},"\u6301\u6709\u4eba"),N.a.createElement(H,{value:"position"},"\u5b58\u653e\u4f4d\u7f6e"),N.a.createElement(H,{value:"status"},"\u6837\u54c1\u72b6\u6001"))))),N.a.createElement(E["a"],{md:3,sm:20},N.a.createElement(F["a"].Item,{style:{marginRight:8},labelCol:{span:5},wrapperCol:{span:6}},r("conditions".concat(a),{rules:[{message:"\u9009\u62e9\u6761\u4ef6"}]})(N.a.createElement(V["a"],{placeholder:"\u9009\u62e9\u6761\u4ef6"},N.a.createElement(H,{value:"="},"\u7b49\u4e8e"),N.a.createElement(H,{value:"!="},"\u4e0d\u7b49\u4e8e"),N.a.createElement(H,{value:"like"},"\u5305\u542b"),N.a.createElement(H,{value:"not like"},"\u4e0d\u5305\u542b"))))),N.a.createElement(E["a"],{md:4,sm:10},N.a.createElement(q,null,r("values".concat(a),{rules:[{message:"\u9009\u62e9\u6570\u503c"}]})(N.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),N.a.createElement(E["a"],{md:1,sm:5},m.length>=1?N.a.createElement(d["a"],{style:{fontSize:24,marginLeft:8},type:"minus-circle",theme:"twoTone",twoToneColor:"#ff0000",onClick:function(){return e.remove(a)}}):null))});return N.a.createElement(P["a"],{title:"\u6837\u54c1\u67e5\u8be2"},N.a.createElement(K,s()({},k,{modalReviewVisible:f,modalInfo:g})),N.a.createElement(i["a"],{bordered:!1,size:"small"},N.a.createElement(F["a"],{onSubmit:this.handleSubmit},N.a.createElement("div",{className:O.a.tableListForm},this.renderSimpleForm()),N.a.createElement(u["a"],{className:O.a.tableListForm},w)),N.a.createElement("div",{className:O.a.tableList},N.a.createElement(c["a"],{size:"middle",rowKey:"sampleno",loading:l,dataSource:t.list,pagination:{showQuickJumper:!0,showSizeChanger:!0},columns:this.columns}))))}}]),t}(D["PureComponent"]),r=o))||r)||r);a["default"]=X}}]);