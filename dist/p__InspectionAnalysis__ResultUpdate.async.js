(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[115],{hUAQ:function(e,t,a){"use strict";a.r(t);a("2qtc");var n,o,i,r,s=a("kLXV"),l=(a("IzEo"),a("bx4M")),c=(a("g9YV"),a("wCAj")),u=a("2Taf"),m=a.n(u),p=a("vZ4D"),d=a.n(p),f=a("MhPg"),h=a.n(f),I=a("l4Ni"),v=a.n(I),y=a("ujKo"),g=a.n(y),S=(a("OaEy"),a("2fM7")),w=(a("sRBo"),a("kaz8")),E=(a("y8nQ"),a("Vl3Y")),b=a("q1tI"),C=a.n(b),x=a("MuoO"),k=a("3a4m"),A=a.n(k),D=a("zHco"),R=a("glGN"),z=a.n(R),N=a("Xt3C");function M(e){return function(){var t,a=g()(e);if(O()){var n=g()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return v()(this,t)}}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var J=E["a"].create()(N["a"]),P=(w["a"].Group,E["a"].Item,S["a"].Option),F=(n=Object(x["connect"])(function(e){var t=e.inspectionAnalysis,a=e.loading;return{inspectionAnalysis:t,loading:a.models.inspectionAnalysis}}),o=E["a"].create(),n(i=o((r=function(e){h()(a,e);var t=M(a);function a(){var e;m()(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),e.state={formValues:{},visible:!1,allCompanyName:[],selectEntrustment:null,showPrice:!1,isoperatevisible:!1,dataSource:[]},e.columns=[{title:"\u59d4\u6258\u7f16\u53f7",dataIndex:"reportno"},{title:"\u59d4\u6258\u65e5\u671f",dataIndex:"reportdate"},{title:"\u8239\u540d\u6807\u8bc6",dataIndex:"shipname"},{title:"\u68c0\u67e5\u54c1\u540d",dataIndex:"cargoname"},{title:"\u6837\u54c1\u7f16\u53f7",dataIndex:"sampleno"},{title:"\u6837\u54c1\u540d\u79f0",dataIndex:"samplename"},{title:"\u72b6\u6001",dataIndex:"state"},{title:"\u64cd\u4f5c",render:function(t,a){return C.a.createElement(b["Fragment"],null,"\u5df2\u53d1\u5e03"!==t.overallstate&&"\u7533\u8bf7\u4f5c\u5e9f"!==t.overallstate&&e.state.isoperatevisible?[C.a.createElement("a",{onClick:function(){return e.mobileItem(t,a)}},"\u5f55\u5165\xa0\xa0")]:[],C.a.createElement("a",{onClick:function(){return e.detailItem(t,a)}},"\u67e5\u770b"),"\xa0\xa0",C.a.createElement("a",{onClick:function(){return e.previewItem(t,a)}},"\u59d4\u6258\u8be6\u60c5"))}}],e.columns1=[{title:"\u6307\u6807\u540d\u79f0",dataIndex:"itemC"},{title:"\u82f1\u6587\u540d\u79f0",dataIndex:"itemE"},{title:"\u68c0\u6d4b\u6807\u51c6",dataIndex:"teststandard"},{title:"\u5355\u4f4d",dataIndex:"unit"},{title:"\u7ed3\u679c",dataIndex:"testresult"}],e.setStateDate=function(t){e.setState({dataSource:t})},e.detailItem=function(t){var a=e.props.dispatch;a({type:"inspectionAnalysis/getAllDetails",payload:{reportno:t.reportno,sampleno:t.sampleno}}),e.setState({visible:!0})},e.uploadItem=function(e){sessionStorage.setItem("reportno",e.reportno),A.a.push({pathname:"/InspectionAnalysis/ResultRecord"}),sessionStorage.setItem("ResultRecord_overallstate",e.overallstate)},e.previewItem=function(e){sessionStorage.setItem("reportno",e.reportno),window.open("/Entrustment/DetailForEntrustment"),localStorage.setItem("reportDetailNo",e.reportno)},e.mobileItem=function(e){sessionStorage.setItem("reportno",e.reportno),sessionStorage.setItem("shipname",e.shipname),sessionStorage.setItem("sampleno",e.sampleno),A.a.push({pathname:"/InspectionAnalysis/ResultUpdateDetail"})},e.handleCancel=function(){e.setState({visible:!1})},e}return d()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch,a=JSON.parse(localStorage.getItem("userinfo"));-1!==a.role.indexOf("\u68c0\u6d4b\u4eba\u5458")&&(this.state.isoperatevisible=!0),t({type:"inspectionAnalysis/getAllSampleAndTestMan",payload:{certCode:a.certCode,nameC:a.nameC,role:a.role},callback:function(t){t&&e.setState({dataSource:t.list})}})}},{key:"render",value:function(){var e=this.props,t=e.inspectionAnalysis.detail,a=(e.form.getFieldDecorator,e.loading),n=this.state,o=n.visible,i=n.allCompanyName,r=(n.showPrice,n.dataSource);i.map(function(e){return C.a.createElement(P,{key:e,value:e},e)});return C.a.createElement(D["a"],{title:"\u68c0\u9a8c\u5b89\u6392"},C.a.createElement(l["a"],{bordered:!1,size:"small"},C.a.createElement("div",{className:z.a.tableList},C.a.createElement("div",{className:z.a.tableListForm},C.a.createElement(J,{setStateDate:this.setStateDate})),C.a.createElement(c["a"],{style:{marginTop:5},size:"middle",loading:a,dataSource:r,pagination:{showQuickJumper:!0,showSizeChanger:!0},columns:this.columns,rowKey:"sampleno"}))),C.a.createElement(s["a"],{title:"\u7ed3\u679c\u8be6\u60c5",visible:o,footer:null,width:800,onCancel:this.handleCancel},C.a.createElement(c["a"],{size:"middle",loading:a,dataSource:t,pagination:{showQuickJumper:!0,showSizeChanger:!0},columns:this.columns1,rowKey:"keyno"})))}}]),a}(b["PureComponent"]),i=r))||i)||i);t["default"]=F}}]);