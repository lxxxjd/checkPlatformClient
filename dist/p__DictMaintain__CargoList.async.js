(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[71],{jQmT:function(e,t,a){"use strict";a.r(t);a("2qtc");var n,r,o,c=a("kLXV"),l=(a("6UJt"),a("DFOY")),i=(a("5NDa"),a("5rEg")),s=(a("IzEo"),a("bx4M")),u=(a("g9YV"),a("wCAj")),d=a("p0pE"),m=a.n(d),p=(a("/xke"),a("TeRw")),f=a("2Taf"),h=a.n(f),g=a("vZ4D"),y=a.n(g),v=a("l4Ni"),k=a.n(v),C=a("ujKo"),b=a.n(C),E=a("MhPg"),S=a.n(E),I=(a("OaEy"),a("2fM7")),w=(a("y8nQ"),a("Vl3Y")),D=a("q1tI"),R=a.n(D),M=a("MuoO"),O=a("3a4m"),F=a.n(O),A=a("zHco"),N=a("wd/R"),x=a.n(N),J=a("glGN"),Y=a.n(J),j=a("3kts"),q=(a("14J3"),a("BMrR")),L=(a("+L6B"),a("2/Rp")),P=(a("jCWc"),a("kPKH")),z=a("Iaf9"),T=a.n(z);function V(e){return function(){var t,a=b()(e);if(B()){var n=b()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return k()(this,t)}}function B(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var K,Q,H,G,U=w["a"].Item,W=(I["a"].Option,n=Object(M["connect"])(function(e){var t=e.dict,a=e.loading;return{dict:t,loading:a.models.dict}}),n((o=function(e){S()(a,e);var t=V(a);function a(){var e;h()(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.handleFormReset=function(){var t=e.props,a=t.form,n=t.dispatch;a.resetFields();var r=JSON.parse(localStorage.getItem("userinfo")),o={certCode:r.certCode};n({type:"dict/getCargos",payload:o})},e.handleSearch=function(t){t.preventDefault();var a=e.props,n=a.dispatch,r=a.form;r.validateFields(function(e,t){if(!e){var a=JSON.parse(localStorage.getItem("userinfo")),r=m()({},t,{certCode:a.certCode});n({type:"dict/searchCargos",payload:r})}})},e}return y()(a,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator;e.showAdd;return R.a.createElement(w["a"],{onSubmit:this.handleSearch,layout:"inline",hideRequiredMark:!0,labelAlign:"left"},R.a.createElement(q["a"],{gutter:{md:8,lg:24,xl:48}},R.a.createElement(P["a"],{span:6},R.a.createElement(U,{label:"\u68c0\u67e5\u54c1\u540d",labelCol:{span:8},wrapperCol:{span:16},colon:!1},t("value",{rules:[{message:"\u641c\u7d22\u6570\u636e"}]})(R.a.createElement(i["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),R.a.createElement(P["a"],{md:8,sm:20},R.a.createElement("span",{className:T.a.submitButtons},R.a.createElement(L["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),R.a.createElement(L["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e")))))}}]),a}(D["PureComponent"]),r=o))||r),X=W;function Z(e){return function(){var t,a=b()(e);if($()){var n=b()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return k()(this,t)}}function $(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}w["a"].Item,I["a"].Option;var _=w["a"].create()(X),ee=(K=Object(M["connect"])(function(e){var t=e.dict,a=e.loading;return{dict:t,loading:a.models.dict}}),Q=w["a"].create(),K(H=Q((G=function(e){S()(a,e);var t=Z(a);function a(){var e;h()(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.state={visible:!1,modalInfo:{},keyno:null},e.columns=[{title:"\u68c0\u67e5\u54c1\u540d",dataIndex:"cargonamec"},{title:"\u82f1\u6587\u540d",dataIndex:"cargonamee"},{title:"\u8d27\u7269\u5206\u7c7b",dataIndex:"cargosort"},{title:"CNAS\u7f16\u7801",dataIndex:"checkCode"},{title:"\u64cd\u4f5c",render:function(t,a){return R.a.createElement(D["Fragment"],null,R.a.createElement("a",{onClick:function(){return e.previewItem(t,a)}},"\u67e5\u770b\u6307\u6807"))}}],e.deleteItem=function(t){var a=e.props.dispatch;a({type:"dict/deleteCargo",payload:{keyno:t.keyno},callback:function(t){200===t.code?(p["a"].open({message:"\u5220\u9664\u6210\u529f"}),e.componentDidMount()):p["a"].open({message:"\u5220\u9664\u5931\u8d25",description:t.message})}})},e.isValidDate=function(e){return void 0!==e&&null!==e?R.a.createElement("span",null,x()(e).format("YYYY-MM-DD")):[]},e.previewItem=function(e){sessionStorage.setItem("cargoname",e.cargonamec),F.a.push({pathname:"/DictMaintain/ItemList"})},e.modifyItem=function(t){var a=e.props.form;e.setState({visible:!0}),e.setState({keyno:t.keyno});var n=[];n.push(t.checkCode.substring(0,2)),n.push(t.checkCode.substring(0,4)),n.push(t.checkCode),a.setFieldsValue({cargonamec:t.cargonamec,cargonamee:t.cargonamee,checkCode:n})},e.handleOk=function(){var t=e.props,a=t.form.validateFieldsAndScroll,n=t.dispatch,r=e.state.keyno;a(function(t,a){var o=JSON.parse(localStorage.getItem("userinfo"));a.checkCode=a.checkCode[2],t||n(null!==r?{type:"dict/updateCargo",payload:m()({},a,{keyno:r,certCode:o.certCode}),callback:function(t){200===t.code?(p["a"].open({message:"\u4fee\u6539\u6210\u529f"}),e.componentDidMount(),e.setState({visible:!1})):p["a"].open({message:"\u4fee\u6539\u5931\u8d25",description:t.message})}}:{type:"dict/addCargo",payload:m()({},a,{certCode:o.certCode}),callback:function(t){200===t.code?(p["a"].open({message:"\u6dfb\u52a0\u6210\u529f"}),e.componentDidMount(),e.setState({visible:!1})):p["a"].open({message:"\u6dfb\u52a0\u5931\u8d25",description:t.message})}})})},e.showAdd=function(){e.setState({keyno:null}),e.setState({visible:!0})},e.handleCancel=function(){e.setState({visible:!1})},e}return y()(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,t={};e({type:"dict/getCargos",payload:t})}},{key:"render",value:function(){var e=this.props,t=e.dict.cargos,a=e.loading,n=(e.dispatch,e.form.getFieldDecorator),r=this.state.visible,o={showAdd:this.showAdd,componentDidMount:this.componentDidMount};return R.a.createElement(A["a"],null,R.a.createElement(s["a"],{bordered:!1,size:"small"},R.a.createElement("div",{className:Y.a.tableListForm},R.a.createElement(_,o)),R.a.createElement("div",{className:Y.a.tableList},R.a.createElement(u["a"],{style:{marginTop:10},size:"middle",loading:a,dataSource:t,columns:this.columns,rowKey:"cargonamec",pagination:{showQuickJumper:!0,showSizeChanger:!0}}))),R.a.createElement(c["a"],{title:"\u4fee\u6539\u8d27\u7269\u4fe1\u606f",visible:r,onOk:this.handleOk,onCancel:this.handleCancel},R.a.createElement(w["a"],null,R.a.createElement(w["a"].Item,{label:"\u68c0\u67e5\u54c1\u540d"},n("cargonamec",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5206\u5305\u5b9e\u9a8c\u5ba4"}]})(R.a.createElement(i["a"],null))),R.a.createElement(w["a"].Item,{label:"\u82f1\u6587\u540d"},n("cargonamee",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u603b\u8ba1\u8d39\u7528"}]})(R.a.createElement(i["a"],null))),R.a.createElement(w["a"].Item,{label:"\u9009\u62e9cns\u5206\u7c7b"},n("checkCode",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9cns\u5206\u7c7b"}]})(R.a.createElement(l["a"],{options:j["a"],placeholder:"\u8bf7\u9009\u62e9\u68c0\u9a8c\u5730\u70b9"}))))))}}]),a}(D["PureComponent"]),H=G))||H)||H);t["default"]=ee}}]);